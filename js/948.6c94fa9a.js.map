{"version":3,"file":"js/948.6c94fa9a.js","mappings":"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","sources":["webpack://project2022/./src/mixins/LoadingComponentMixin.js","webpack://project2022/./src/mixins/currencyMixin.js","webpack://project2022/./src/mixins/dialogMixin.js","webpack://project2022/./src/components/PaginationComponent.vue","webpack://project2022/./src/components/PaginationComponent.vue?4f9e","webpack://project2022/./src/components/front/DialogModal.vue","webpack://project2022/./src/components/front/DialogModal.vue?2943","webpack://project2022/./src/components/front/ProductsComponent.vue","webpack://project2022/./src/components/front/ProductsComponent.vue?85cf"],"sourcesContent":["// 作為元件使用\nimport Loading from 'vue-loading-overlay';\nimport 'vue-loading-overlay/dist/vue-loading.css';\n\nexport default {\n  data() {\n    return {\n    // vue-loading-overlay\n      isLoading: false,\n      loader: 'dots',\n      fullPage: false,\n      color: '#D96500',\n      backgroundColor: '#eaeaea',\n      opacity: 1.0,\n    };\n  },\n  components: {\n    Loading,\n  },\n};\n","export default {\n  methods: {\n  // 售價加上千分位\n    currency(num) {\n      const n = parseInt(num, 10);\n      return `${n.toFixed(0).replace(/./g, (c, i, a) => (i && c !== '.' && (a.length - i) % 3 === 0 ? `, ${c}`.replace(/\\s/g, '') : c))}`;\n    },\n  },\n};\n","export default {\n  mounted() {\n    // 取得對話視窗DOM\n    this.dialogModal = document.getElementById('infoModal');\n  },\n  methods: {\n    // 觸發dialog視窗\n    showDialog(mode) {\n      this.dialogModal.showModal();\n      this.dialogMode = mode;\n      // 增加zoomin效果\n      this.dialogModal.classList.add('animate__animated', 'animate__zoomIn');\n      setTimeout(() => {\n        // 移除zoomin效果\n        this.dialogModal.classList.remove('animate__zoomIn');\n        // 增加zoomout效果\n        this.dialogModal.classList.add('animate__zoomOut');\n      }, 2000);\n      setTimeout(() => {\n        this.dialogModal.close();\n        // 移除zoomout效果\n        this.dialogModal.classList.remove('animate__zoomOut');\n        this.dialogMode = 0;\n      }, 2500);\n    },\n  },\n};\n","<template lang=\"\">\n<!-- v-for用.total_pages去渲染所有頁數 -->\n<!-- 點擊頁數、前一頁、後一頁，透過emit觸發外層根元件『同一個』methods -->\n<!-- 點擊頁數，把頁數作為參數用emit代入外層根元件methods，取得對應頁數的商品資料 -->\n<!-- 點擊前一頁、後一頁，把當前頁數current_page加減後，作為參數用emit代入外層根元件methods -->\n<section class=\"pagination\">\n  <div class=\"pagination__container container-auto text-center\">\n    <ul class=\"pagination__list d-flex justify-content-center\">\n      <li class=\"pagination__list__item d-flex\" :class=\"{ disabled: !pagination.has_pre }\">\n        <a href=\"#\" class=\"pagination__previous\"\n            @click.prevent=\"$emit('send-page', pagination.current_page - 1)\">\n          <span class=\"material-symbols-outlined d-block\">keyboard_double_arrow_left</span>\n        </a>\n      </li>\n      <li v-for=\"(page, key) in pagination.total_pages\" :key=\"'page' + key\"\n          class=\"pagination__list__item\">\n        <a class=\"pagination__link\"\n        :class=\"{ active: page === pagination.current_page }\" href=\"#\" @click.prevent=\"$emit('send-page', page)\">{{ page }}</a>\n      </li>\n      <li class=\"pagination__list__item d-flex\" :class=\"{ disabled: !pagination.has_next }\">\n        <a href=\"#\" class=\"pagination__next\"\n        @click.prevent=\"$emit('send-page', pagination.current_page + 1)\">\n        <span class=\"material-symbols-outlined d-block\">keyboard_double_arrow_right</span>\n        </a>\n      </li>\n    </ul>\n  </div>\n</section>\n</template>\n<script>\nexport default {\n  props: ['pagination'],\n  data() {\n    return {\n    };\n  },\n};\n</script>\n<style lang=\"\"></style>\n","import { render } from \"./PaginationComponent.vue?vue&type=template&id=01e2ffba&lang=true\"\nimport script from \"./PaginationComponent.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/LONGSIAN/Desktop/project_2022/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template lang=\"\">\n  <dialog class=\"dialog border-0 p-5\" id=\"infoModal\" ref=\"infoDom\">\n    <!-- 商品已加入購物車 -->\n    <div v-if=\"dialogMode === 1\" class=\"dialog__addCart text-center\">\n      <span class=\"material-symbols-outlined dialog__addCart__logo\">add_shopping_cart</span>\n      <p class=\"dialog__addCart__caption fs-4\">已加入購物車</p>\n    </div>\n    <!-- 商品已加入追蹤 -->\n    <div v-else-if=\"dialogMode === 2\" class=\"dialog__favorite text-center\">\n      <span class=\"material-symbols-outlined dialog__favorite__logo\">favorite</span>\n      <p class=\"dialog__favorite__caption fs-4\">已加入追蹤</p>\n    </div>\n    <div v-else-if=\"dialogMode === 3\" class=\"dialog__unfavorite text-center\">\n      <span class=\"material-symbols-outlined dialog__unfavorite__logo\">heart_broken</span>\n      <p class=\"dialog__unfavorite__caption fs-4\">已取消追蹤</p>\n    </div>\n  </dialog>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n    };\n  },\n  props: ['dialogMode', 'isTracking'],\n  mounted() {\n  },\n  methods: {\n  },\n};\n</script>\n<style lang=\"\"></style>\n","import { render } from \"./DialogModal.vue?vue&type=template&id=1d223eb6&lang=true\"\nimport script from \"./DialogModal.vue?vue&type=script&lang=js\"\nexport * from \"./DialogModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/LONGSIAN/Desktop/project_2022/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template lang=\"\">\n  <section class=\"products\">\n    <div v-if=\"!products.length\" class=\"position-relative\" style=\"height: 100vh\">\n      <Loading\n        :active=\"isLoading\"\n        :loader=\"loader\"\n        :is-full-page=\"fullPage\"\n        :color=\"color\"\n        :background-color=\"backgroundColor\"\n        :opacity=\"opacity\"></Loading>\n    </div>\n    <div v-else class=\"products__category sticky-top\">\n      <div class=\"products__category__container container-auto\">\n        <ul class=\"products__category__list d-flex mx-auto\">\n          <li class=\"products__category__item\">\n            <a class=\"item__link\" href=\"#\" @click=\"categoryActive\" @click.prevent=\"getProducts()\">ALL</a>\n          </li>\n          <!-- item__link--active -->\n          <li v-for=\"(item, key) in productsCategory\" :key=\"'item' + key\" class=\"products__category__item\">\n            <a class=\"item__link\" href=\"#\" @click=\"categoryActive\"\n              @click.prevent=\"getProducts(item)\">{{ item }}</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n    <ul class=\"products__container container-auto\">\n      <li v-for=\"(item, key) in products\" :key=\"'item' + key\" class=\"product__item position-relative\">\n        <a class=\"product__item__click position-absolute\" href=\"#\" @click.prevent=\"getProduct(item.id)\"></a>\n        <!-- 加入favorite -->\n        <a class=\"product__favorite\" href=\"#\" @click.prevent=\"addFavorite(item.id)\">\n          <span class=\"material-symbols-outlined d-block fs-4\"\n          :class=\"{\n            'favorite': !getFavorite.includes(item.id),\n            'favorite--fill': getFavorite.includes(item.id),\n            }\">favorite</span>\n        </a>\n        <div class=\"product__img\"\n        :style=\"{backgroundImage: `url(${item.imageUrl})`}\"\n        ></div>\n        <div class=\"product__body\">\n          <div class=\"product__body__top\">\n            <div class=\"product__data\">\n              <p class=\"product__series mb-1\">2019 Bicycle</p>\n              <h3 class=\"product__title\">{{ item.title}}</h3>\n            </div>\n          </div>\n          <div class=\"product__body__center d-flex\">\n            <div class=\"product__rating\">\n              <!-- v-for渲染出星星（星星數最大為5） -->\n              <!-- 每次v-for，item.rating>=迴圈star數，出現實心星星 -->\n              <!-- 每次v-for，item.rating<迴圈star數，出現空心星星 -->\n              <template v-for=\"(star , key) in 5\" :key=\"'star' + key\">\n                    <span class=\"material-symbols-outlined fs-6 \"\n                    :class=\"{\n                      'star': item.rating >= star,\n                      'star--fill': star > item.rating,\n                      }\">star</span>\n              </template>\n            </div>\n            <p class=\"product__price\">{{ `NT $ ${currency(item.price)}` }}</p>\n          </div>\n          <div class=\"product__body__bottom justify-content-between\">\n            <div class=\"product__num\">\n              <button type=\"button\" class=\"product__num__reduce\"\n              @click=\"item.qty -= 1\" :disabled=\"item.qty === 1\">\n                <span class=\"material-symbols-outlined\">remove</span>\n              </button>\n              <p class=\"product__num__value d-flex\">\n                <span class=\"fs-6 my-auto\">{{ item.qty }}</span>\n              </p>\n              <button type=\"button\" class=\"product__num__add\"\n              @click=\"item.qty += 1\">\n                <span class=\"material-symbols-outlined\">add</span>\n              </button>\n            </div>\n            <button type=\"button\" class=\"product__addCart d-flex btn btn-primary border-0 text-white-100\"\n            @click.prevent=\"addToCart(item.id, item.qty)\">\n              加入購物車\n              <span class=\"material-symbols-outlined\">add_shopping_cart</span>\n            </button>\n          </div>\n        </div>\n      </li>\n    </ul>\n  </section>\n    <!-- 分頁 -->\n    <pagination :pagination=\"pagination\" @send-page=\"selectPagination\">\n    </pagination>\n  <!-- dialog視窗 -->\n  <dialog-modal :dialogMode=\"dialogMode\">\n  </dialog-modal>\n</template>\n\n<script>\n// vue-loading-overlay 作為元件引入\nimport LoadingComponent from '@/mixins/LoadingComponentMixin';\n// 引入emitter\nimport emitter from '@/utils/emitter';\n// 引入dialog-modal\nimport dialogModal from '@/components/front/DialogModal.vue';\n// 引入pagination元件\nimport pagination from '@/components/PaginationComponent.vue';\n\nimport dialogMixin from '@/mixins/dialogMixin';\nimport currencyMixin from '@/mixins/currencyMixin';\n\nexport default {\n  data() {\n    return {\n      products: [],\n      // 所有產品種類\n      productsCategory: [],\n      cartLink: '',\n      // 觸發dialog視窗，要傳入的內容\n      dialogMode: 0,\n      // 從localStorage取得favorite資料\n      getFavorite: [],\n      // 傳入元件的分頁資訊\n      pagination: {},\n      categoryRender: false,\n    };\n  },\n  components: {\n    dialogModal,\n    pagination,\n  },\n  mounted() {\n    this.getCategory();\n    this.getProducts(this.$route.params.category);\n    emitter.emit('products-routeName', this.$route.name);\n    // 監聽refresh-favorite事件，更新我的最愛追蹤\n    emitter.on('refresh-favorite', () => {\n      this.getLocalStorage();\n    });\n    this.getLocalStorage();\n  },\n  watch: {\n    $route: {\n      handler() {\n        console.log(this.$route);\n      },\n      deep: false,\n    },\n    // 監聽categoryRender，取得商品分類渲染完成後，active該產品分類\n    categoryRender() {\n      if (this.categoryRender === true) {\n        // 帶入產品分類，初始值為'ALL'，若從產品內容點擊分類（Breadcrumb）則帶入this.$route.params.category\n        this.activeCategory(this.$route.params.category || 'ALL');\n      }\n    },\n  },\n  methods: {\n    // 取得分類商品資料-----沒代參數，category用空字串代入，取得所有產品\n    getProducts(category = '') {\n      this.isLoading = true;\n      // 如果$route.query.category有資料，就用此資料來取得商品資料。否則用methods方法參數取得商品資料\n      const isCategory = this.$route.query.category ? this.$route.query.category : category;\n      this.axios\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/?category=${isCategory}`)\n        .then((res) => {\n          // 取得分類商品資料，存放products，準備渲染畫面\n          this.products = res.data.products;\n          this.addQtyNum();\n          // 取得分頁\n          this.pagination = res.data.pagination;\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          console.dir(err);\n        });\n    },\n    // 選擇產品分頁\n    selectPagination(page = 1) {\n      this.products = [];\n      this.$router.push('products');\n      this.isLoading = true;\n      // 用query的方式，代出商品資料\n      // /?page=${ 頁數 }\n      this.axios\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/?page=${page}`)\n        .then((res) => {\n          // 取得該分頁商品資料，products\n          this.products = res.data.products;\n          // 取得分頁資訊，存放pagination\n          this.pagination = res.data.pagination;\n          this.addQtyNum();\n          this.isLoading = false;\n        })\n        .catch(() => {\n        });\n    },\n    // 取得商品分類\n    getCategory() {\n      this.axios\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products`)\n        .then((res) => {\n          // 取得商品資料，存放tempProducts\n          const tempProducts = res.data.products;\n          const tempCategory = [];\n          tempProducts.forEach((item, index) => {\n            tempCategory.push(item.category);\n            if (tempCategory.indexOf(item.category) === index) {\n              this.productsCategory.push(item.category);\n            }\n          });\n          setTimeout(() => {\n            this.categoryRender = true;\n          }, 50);\n        })\n        .catch((err) => {\n          console.dir(err);\n        });\n    },\n    // 點擊產品分類active\n    categoryActive(e) {\n      // 連結的父層節點\n      const { parentNode } = e.target;\n      // 連結的父層元素再上一層內的所有子節點\n      const { children } = parentNode.parentNode;\n      // 把所有子節點移除className(category-item-active)\n      for (let i = 0; i <= children.length - 1; i += 1) {\n        children[i].childNodes[0].classList.remove('item__link--active');\n      }\n      // 點選的連結加上className，category-item-active\n      e.target.classList.add('item__link--active');\n    },\n    // 所有產品資料，加上qty屬性\n    addQtyNum() {\n      this.products.forEach((item, index) => {\n        this.products[index].qty = 1;\n      });\n    },\n    // 加入最愛\n    addFavorite(id) {\n      // 觸發add-to-favorite行為\n      emitter.emit('add-to-favorite', id);\n      this.getLocalStorage();\n      if (this.getFavorite.includes(id)) {\n        this.showDialog(3);\n      } else {\n        // 商品加入我的最愛後，顯示dialog視窗\n        this.showDialog(2);\n      }\n    },\n    // 從localStorage取得favorite的資料\n    getLocalStorage() {\n      setTimeout(() => {\n        this.getFavorite = JSON.parse(localStorage.getItem('favorite')) || [];\n      });\n    },\n    // 增加商品到購物車\n    addToCart(productId, productQty) {\n      const productItem = {\n        product_id: productId,\n        qty: productQty,\n      };\n      this.axios\n        .post(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`, { data: productItem })\n        .then((res) => {\n          console.dir(res);\n          // 增加商品到購物車，成功後發送getCart行為（取得購物車內資料）\n          emitter.emit('getCart', productItem);\n          // 商品加入購物車後，顯示dialog視窗\n          this.showDialog(1);\n          // 加入購物車後，把該商品選擇數量設為1\n          this.products.forEach((item, index) => {\n            if (item.id === productId) {\n              this.products[index].qty = 1;\n            }\n          });\n        })\n        .catch((err) => {\n          console.dir(err);\n        });\n    },\n    getProduct(id) {\n      this.$router.push(`product/${id}`);\n    },\n    activeCategory(category) {\n      console.log(category);\n      // this.$route.params.category !== undefined &&\n      if (this.categoryRender === true) {\n        const domList = document.querySelector('.products__category__list').children;\n        console.log(domList);\n        for (let i = 0; i <= domList.length - 1; i += 1) {\n          domList[i].children[0].classList.remove('item__link--active');\n          if (domList[i].children[0].innerText === category) {\n            domList[i].children[0].classList.add('item__link--active');\n          }\n        }\n        this.categoryRender = false;\n      } else {\n        this.categoryRender = false;\n      }\n    },\n  },\n  mixins: [currencyMixin, dialogMixin, LoadingComponent],\n  unmounted() {\n    emitter.off('refresh-favorite');\n  },\n};\n</script>\n<style lang=\"\"></style>\n","import { render } from \"./ProductsComponent.vue?vue&type=template&id=15d7d8df&lang=true\"\nimport script from \"./ProductsComponent.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/LONGSIAN/Desktop/project_2022/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["data","isLoading","loader","fullPage","color","backgroundColor","opacity","components","Loading","methods","currency","num","n","parseInt","toFixed","replace","c","i","a","length","mounted","this","dialogModal","document","getElementById","showDialog","mode","showModal","dialogMode","classList","add","setTimeout","remove","close","class","_createElementVNode","_hoisted_4","_hoisted_7","_createElementBlock","disabled","$props","has_pre","href","onClick","_ctx","current_page","_Fragment","_renderList","total_pages","page","key","active","_hoisted_6","has_next","props","__exports__","render","id","ref","_hoisted_3","_hoisted_8","_hoisted_11","_hoisted_12","_hoisted_5","_hoisted_9","_hoisted_13","style","_hoisted_22","_hoisted_27","_hoisted_31","$data","$options","item","_createVNode","_component_Loading","includes","backgroundImage","imageUrl","_hoisted_14","_toDisplayString","title","star","rating","price","type","qty","_component_pagination","pagination","onSendPage","_component_dialog_modal","products","productsCategory","cartLink","getFavorite","categoryRender","getCategory","getProducts","$route","params","category","emitter","name","getLocalStorage","watch","handler","console","log","deep","activeCategory","isCategory","query","axios","get","then","res","addQtyNum","catch","err","dir","selectPagination","$router","push","tempProducts","tempCategory","forEach","index","indexOf","categoryActive","e","parentNode","target","children","childNodes","addFavorite","JSON","parse","localStorage","getItem","addToCart","productId","productQty","productItem","product_id","post","getProduct","domList","querySelector","innerText","mixins","currencyMixin","dialogMixin","LoadingComponent","unmounted"],"sourceRoot":""}