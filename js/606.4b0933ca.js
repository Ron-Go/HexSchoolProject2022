"use strict";(self["webpackChunkproject2022"]=self["webpackChunkproject2022"]||[]).push([[606],{3387:function(t,e,s){var o=s(7398),a=s.n(o);e["Z"]={data(){return{isLoading:!1,loader:"dots",fullPage:!1,color:"#D96500",backgroundColor:"#eaeaea",opacity:1}},components:{Loading:a()}}},606:function(t,e,s){s.r(e),s.d(e,{default:function(){return _}});var o=s(6252),a=s(9963);const n={class:"container",id:"app"},i={class:"position-relative position-absolute top-50 start-50 translate-middle",ref:"loginDom"},l={action:""},r=(0,o._)("h3",{class:"text-center mb-4"},"登入後台",-1),d={class:"d-flex flex-column align-items-center mb-4"},c={for:"userEmail"},u=(0,o.Uk)("Email address "),m={class:"d-flex flex-column align-items-center mb-4"},p={for:"floatingPassword"},g=(0,o.Uk)("Password ");function h(t,e,s,h,f,w){const v=(0,o.up)("Loading"),b=(0,o.up)("toastMessage");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",n,[(0,o._)("div",i,[(0,o.Wm)(v,{active:t.isLoading,loader:t.loader,"is-full-page":t.fullPage,color:t.color},null,8,["active","loader","is-full-page","color"]),(0,o._)("form",l,[r,(0,o._)("div",d,[(0,o._)("label",c,[u,(0,o.wy)((0,o._)("input",{type:"email",class:"form-control",id:"userEmail",placeholder:"name@example.com","onUpdate:modelValue":e[0]||(e[0]=t=>f.user.username=t)},null,512),[[a.nr,f.user.username]])])]),(0,o._)("div",m,[(0,o._)("label",p,[g,(0,o.wy)((0,o._)("input",{type:"password",class:"form-control",id:"floatingPassword",placeholder:"Password","onUpdate:modelValue":e[1]||(e[1]=t=>f.user.password=t)},null,512),[[a.nr,f.user.password]])])]),(0,o._)("button",{type:"submit",class:"btn btn-primary btn-lg w-100",onClick:e[2]||(e[2]=(0,a.iM)(((...t)=>w.login&&w.login(...t)),["prevent"]))}," 登入 ")])],512)]),(0,o.Wm)(b)],64)}var f=s(9150),w=s(3387),v={name:"AdminComponent",data(){return{user:{username:"",password:""},api:{url:"https://vue3-course-api.hexschool.io/v2",path:"vue2022ron"}}},components:{toastMessage:f.Z},mounted(){},methods:{login(){this.isLoading=!0,this.axios.post(`${this.api.url}/admin/signin`,this.user).then((t=>{const{token:e,expired:s}=t.data;document.cookie=`myToken = ${e}; expires = ${new Date(s)};`,this.$router.push("/admin/product"),this.isLoading=!1})).catch((t=>{console.dir(t),this.isLoading=!1}))}},mixins:[w.Z]},b=s(3744);const y=(0,b.Z)(v,[["render",h]]);var _=y},9150:function(t,e,s){s.d(e,{Z:function(){return g}});var o=s(6252),a=s(3577);const n={class:"toast-container position-fixed top-0 end-0 pt-3 pe-3",style:{"z-index":"9999"}},i={class:"text-white me-auto"},l=(0,o._)("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"toast","aria-label":"Close"},null,-1),r={key:0,class:"toast-body"};function d(t,e,s,d,c,u){return(0,o.wg)(),(0,o.iD)("div",n,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(c.msg,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{key:"item"+e,class:(0,a.C_)(["toast show",`toast${e}`]),role:"alert","aria-live":"assertive","aria-atomic":"true"},[(0,o._)("div",{class:(0,a.C_)(["toast-header",`bg-${t.style}`]),style:{opacity:"0.87"}},[(0,o._)("strong",i,(0,a.zw)(t.title),1),l],2),t.content?((0,o.wg)(),(0,o.iD)("div",r,(0,a.zw)(t.content),1)):(0,o.kq)("",!0)],2)))),128))])}var c=s(9868),u={data(){return{msg:[]}},mounted(){c.Z.on("toastMessage",(t=>{this.msg.push(t),this.toastShow()}))},methods:{toastShow(){setTimeout((()=>{this.msg.shift()}),6e3)}}},m=s(3744);const p=(0,m.Z)(u,[["render",d]]);var g=p}}]);
//# sourceMappingURL=606.4b0933ca.js.map