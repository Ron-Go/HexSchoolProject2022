"use strict";(self["webpackChunkproject2022"]=self["webpackChunkproject2022"]||[]).push([[639],{3387:function(e,t,s){var r=s(7398),o=s.n(r);t["Z"]={data(){return{isLoading:!1,loader:"dots",fullPage:!1,color:"#D96500",backgroundColor:"#eaeaea",opacity:1}},components:{Loading:o()}}},7089:function(e,t){t["Z"]={methods:{convertDate(e){const t=new Date(1e3*e);return`${t.getFullYear()}/${this.repairZoro(t.getMonth()+1)}/${this.repairZoro(t.getDate())} ${this.repairZoro(t.getHours())}:${this.repairZoro(t.getMinutes())}:${this.repairZoro(t.getSeconds())}`},repairZoro(e){return e<10?`0${e}`:e}}}},654:function(e,t){t["Z"]={methods:{currency(e){const t=parseInt(e,10);return`${t.toFixed(0).replace(/./g,((e,t,s)=>t&&"."!==e&&(s.length-t)%3===0?`, ${e}`.replace(/\s/g,""):e))}`}}}},5639:function(e,t,s){s.r(t),s.d(t,{default:function(){return S}});var r=s(6252),o=s(3577);const a={class:"container",style:{"padding-top":"56px"}},l={class:"row d-flex justify-content-center"},n={class:"col-10 col-sm-7 mt-5"},i={class:"row d-flex justify-content-center position-relative my-5"},d=(0,r._)("h4",{class:"text--danger fw--bold text-center"},"訂單已建立成功",-1),c={class:"col-12 col-sm-6 mt-5"},p={class:"table"},u=(0,r._)("th",{class:"text-end fw--medium py-3"},"訂單編號：",-1),g={class:"text--danger fw--bold py-3"},m=(0,r._)("th",{class:"text-end fw--medium py-3"},"訂單建立時間：",-1),_={key:0,class:"fw--bold py-3"},y=(0,r._)("th",{class:"text-end fw--medium py-3"},"收件人姓名：",-1),h={class:"py-3"},f=(0,r._)("th",{class:"text-end fw--medium py-3"},"收件人電話：",-1),w={class:"py-3"},b=(0,r._)("th",{class:"text-end fw--medium py-3"},"收件人地址：",-1),x={class:"py-3"},v=(0,r._)("th",{class:"text-end fw--medium py-3"},"購買商品：",-1),k={class:"d-flex flex-column justify-content-between p-3 bg--bggray mt-2"},Z={class:"mb-2"},$={class:"d-flex justify-content-between"},D={class:"fs-6"},z=(0,r.Uk)("數量： "),C={class:"text--danger fw--medium fs-6"},j={class:"fs-6"},L=(0,r.Uk)("總價： "),F={class:"text--danger fw--medium fs-6"},P=(0,r._)("th",{class:"text-end fw--medium py-3"},"付款總金額：",-1),q={class:"fs-5 text--danger fw--bold py-3"},I=(0,r._)("th",{class:"text-end fw--medium py-3"},"付款狀態：",-1);function H(e,t,s,H,Y,M){const O=(0,r.up)("progress-bar"),U=(0,r.up)("Loading");return(0,r.wg)(),(0,r.iD)("div",a,[(0,r._)("div",l,[(0,r._)("div",n,[(0,r.Wm)(O,{progress:Y.progress},null,8,["progress"])])]),(0,r._)("div",i,[(0,r.Wm)(U,{active:e.isLoading,loader:e.loader,"is-full-page":e.fullPage,color:e.color},null,8,["active","loader","is-full-page","color"]),d,(0,r._)("div",c,[(0,r._)("table",p,[(0,r._)("tbody",null,[(0,r._)("tr",null,[u,(0,r._)("td",g,(0,o.zw)(Y.order.id),1)]),(0,r._)("tr",null,[m,Y.order.create_at?((0,r.wg)(),(0,r.iD)("td",_,(0,o.zw)(e.convertDate(Y.order.create_at)),1)):(0,r.kq)("",!0)]),Y.order.user?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r._)("tr",null,[y,(0,r._)("td",h,(0,o.zw)(Y.order.user.name),1)]),(0,r._)("tr",null,[f,(0,r._)("td",w,(0,o.zw)(Y.order.user.tel),1)]),(0,r._)("tr",null,[b,(0,r._)("td",x,(0,o.zw)(Y.order.user.address),1)])],64)):(0,r.kq)("",!0),(0,r._)("tr",null,[v,(0,r._)("td",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(Y.order.products,((t,s)=>((0,r.wg)(),(0,r.iD)("div",{key:"key"+s},[(0,r._)("div",k,[(0,r._)("h6",Z,(0,o.zw)(t.product.title),1),(0,r._)("div",$,[(0,r._)("p",D,[z,(0,r._)("span",C,(0,o.zw)(`${t.qty}`),1)]),(0,r._)("p",j,[L,(0,r._)("span",F,(0,o.zw)(`$${e.currency(t.final_total)}`),1)])])])])))),128))])]),(0,r._)("tr",null,[P,(0,r._)("td",q,"$"+(0,o.zw)(e.currency(Y.order.total)),1)]),(0,r._)("tr",null,[I,(0,r._)("td",{class:(0,o.C_)(["py-3 fw--bold",{"text--success":Y.order.is_paid,"text--danger":!Y.order.is_paid}])},(0,o.zw)(""+(Y.order.is_paid?"已付款":"未付款")),3)])])]),Y.order.is_paid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("button",{key:0,type:"button",class:"btn btn-primary w-100 mt-5",onClick:t[0]||(t[0]=(...e)=>M.toPaymentFinish&&M.toPaymentFinish(...e))},"前往付款"))])])])}var Y=s(3387),M=s(6330),O=s(7089),U=s(654),W={props:["orderId"],components:{progressBar:M.Z},data(){return{progress:{step:1,percent:"0%"},order:{}}},mounted(){this.getOrder()},methods:{getOrder(){this.isLoading=!0,this.axios.get(`https://vue3-course-api.hexschool.io/v2/api/vue2022ron/order/${this.orderId}`).then((e=>{this.order=e.data.order,this.isLoading=!1})).catch((e=>{console.dir(e)}))},toPaymentFinish(){this.$router.push(`/front/finish/${this.orderId}`)}},mixins:[O.Z,Y.Z,U.Z]},B=s(3744);const K=(0,B.Z)(W,[["render",H]]);var S=K},6330:function(e,t,s){s.d(t,{Z:function(){return f}});var r=s(6252),o=s(3577);const a={class:"position-relative m-4"},l={class:"progress",style:{height:"1px"}},n=(0,r._)("span",{class:"material-symbols-outlined"},null,-1),i={class:"position-absolute top-0 start-0 translate-middle"},d=(0,r._)("span",{class:"position-absolute fs-5 text-center text--primary",style:{top:"-60%",width:"3rem"}},"結帳",-1),c={class:"position-absolute top-0 start-50 translate-middle"},p=(0,r._)("span",{class:"position-absolute fs-5 text-center text--primary",style:{top:"-60%",width:"3rem"}},"付款",-1),u={class:"position-absolute top-0 start-100 translate-middle"},g=(0,r._)("span",{class:"position-absolute fs-5 text-center text--secondary",style:{top:"-60%",width:"3rem"}},"完成",-1);function m(e,t,s,m,_,y){return(0,r.wg)(),(0,r.iD)("div",a,[(0,r._)("div",l,[(0,r._)("div",{class:"progress-bar",role:"progressbar",style:(0,o.j5)({width:s.progress.percent}),"aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"},null,4)]),n,(0,r._)("div",i,[d,(0,r._)("span",{class:(0,o.C_)(["d-block fs-3 text-center pt-2 rounded-circle material-symbols-outlined",{"bg--primary":s.progress.step>=1,"bg--bggray":s.progress.step<1,"text--light":s.progress.step>=1,"text--scondary":s.progress.step<1}]),style:{width:"3rem",height:"3rem"}},"shopping_cart ",2)]),(0,r._)("div",c,[p,(0,r._)("span",{class:(0,o.C_)(["d-block fs-3 text-center pt-2 rounded-circle material-symbols-outlined",{"bg--primary":s.progress.step>=2,"bg--bggray":s.progress.step<2,"text--light":s.progress.step>=2,"text--scondary":s.progress.step<2}]),style:{width:"3rem",height:"3rem"}},"credit_card ",2)]),(0,r._)("div",u,[g,(0,r._)("span",{class:(0,o.C_)(["d-block fs-3 text-center pt-2 rounded-circle material-symbols-outlined",{"bg--primary":s.progress.step>=3,"bg--bggray":s.progress.step<3,"text--light":s.progress.step>=3,"text--scondary":s.progress.step<3}]),style:{width:"3rem",height:"3rem"}},"task_alt ",2)])])}var _={props:["progress"],mounted(){console.log("order"===this.progress.step[0])}},y=s(3744);const h=(0,y.Z)(_,[["render",m]]);var f=h}}]);
//# sourceMappingURL=639.1ba23806.js.map