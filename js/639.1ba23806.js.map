{"version":3,"file":"js/639.1ba23806.js","mappings":"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","sources":["webpack://project2022/./src/mixins/LoadingComponentMixin.js","webpack://project2022/./src/mixins/convertDateMixin.js","webpack://project2022/./src/mixins/currencyMixin.js","webpack://project2022/./src/components/front/PaymentComponent.vue","webpack://project2022/./src/components/front/PaymentComponent.vue?5859","webpack://project2022/./src/components/front/ProgressBar.vue","webpack://project2022/./src/components/front/ProgressBar.vue?9b33"],"sourcesContent":["// 作為元件使用\nimport Loading from 'vue-loading-overlay';\nimport 'vue-loading-overlay/dist/vue-loading.css';\n\nexport default {\n  data() {\n    return {\n    // vue-loading-overlay\n      isLoading: false,\n      loader: 'dots',\n      fullPage: false,\n      color: '#D96500',\n      backgroundColor: '#eaeaea',\n      opacity: 1.0,\n    };\n  },\n  components: {\n    Loading,\n  },\n};\n","export default {\n  methods: {\n    // unix code轉換時間\n    convertDate(unix) {\n      const date = new Date(unix * 1000);\n      return `${date.getFullYear()}/${(this.repairZoro(date.getMonth() + 1))}/${this.repairZoro(date.getDate())} ${this.repairZoro(date.getHours())}:${this.repairZoro(date.getMinutes())}:${this.repairZoro(date.getSeconds())}`;\n    },\n    // 月,日,時,分,秒的數值小於10，前面補零\n    repairZoro(num) {\n      return num < 10 ? `0${num}` : num;\n    },\n  },\n};\n","export default {\n  methods: {\n  // 售價加上千分位\n    currency(num) {\n      const n = parseInt(num, 10);\n      return `${n.toFixed(0).replace(/./g, (c, i, a) => (i && c !== '.' && (a.length - i) % 3 === 0 ? `, ${c}`.replace(/\\s/g, '') : c))}`;\n    },\n  },\n};\n","<template lang=\"\">\n  <div class=\"container\" style=\"padding-top:56px;\">\n    <div class=\"row d-flex justify-content-center\">\n      <div class=\"col-10 col-sm-7 mt-5\">\n        <!-- 進度條 -->\n        <progress-bar :progress=\"progress\"></progress-bar>\n      </div>\n    </div>\n    <div class=\"row d-flex justify-content-center position-relative my-5\">\n      <Loading\n      :active=\"isLoading\"\n      :loader=\"loader\"\n      :is-full-page=\"fullPage\"\n      :color=\"color\"></Loading>\n      <h4 class=\"text--danger fw--bold text-center\">訂單已建立成功</h4>\n      <div class=\"col-12 col-sm-6 mt-5\">\n        <table class=\"table\">\n          <tbody>\n            <tr>\n              <th class=\"text-end fw--medium py-3\">訂單編號：</th>\n              <td class=\"text--danger fw--bold py-3\">{{ order.id }}</td>\n            </tr>\n            <tr>\n              <th class=\"text-end fw--medium py-3\">訂單建立時間：</th>\n              <td v-if=\"order.create_at\" class=\"fw--bold py-3\">{{ convertDate(order.create_at) }}</td>\n            </tr>\n            <template v-if=\"order.user\">\n              <tr>\n                <th class=\"text-end fw--medium py-3\">收件人姓名：</th>\n                <td class=\"py-3\">{{ order.user.name }}</td>\n              </tr>\n              <tr>\n                <th class=\"text-end fw--medium py-3\">收件人電話：</th>\n                <td class=\"py-3\">{{ order.user.tel }}</td>\n              </tr>\n              <tr>\n                <th class=\"text-end fw--medium py-3\">收件人地址：</th>\n                <td class=\"py-3\">{{ order.user.address }}</td>\n              </tr>\n            </template>\n            <tr>\n              <th class=\"text-end fw--medium py-3\">購買商品：</th>\n              <td>\n                <div v-for=\"(item, key) in order.products\" :key=\"'key' + key\">\n                  <div class=\"d-flex flex-column justify-content-between p-3 bg--bggray mt-2\">\n                    <h6 class=\"mb-2\">{{ item.product.title }}</h6>\n                    <div class=\"d-flex justify-content-between\">\n                      <p class=\"fs-6\">數量：\n                        <span class=\"text--danger fw--medium fs-6\">{{ `${item.qty}` }}</span>\n                      </p>\n                      <p class=\"fs-6\">總價：\n                        <span class=\"text--danger fw--medium fs-6\">{{ `$${currency(item.final_total)}` }}</span>\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </td>\n            </tr>\n            <tr>\n              <th class=\"text-end fw--medium py-3\">付款總金額：</th>\n              <td class=\"fs-5 text--danger fw--bold py-3\">${{ currency(order.total) }}</td>\n            </tr>\n            <tr>\n              <th class=\"text-end fw--medium py-3\">付款狀態：</th>\n              <td class=\"py-3 fw--bold\"\n                :class=\"{\n                  'text--success': order.is_paid,\n                  'text--danger': !order.is_paid,\n                  }\">\n                {{ `${order.is_paid ? '已付款' : '未付款'}` }}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <button type=\"button\" v-if=\"!order.is_paid\" class=\"btn btn-primary  w-100 mt-5\" @click=\"toPaymentFinish\">前往付款</button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport LoadingPlugin from '@/mixins/LoadingComponentMixin';\nimport progressBar from '@/components/front/ProgressBar.vue';\nimport convertDate from '@/mixins/convertDateMixin';\nimport currency from '@/mixins/currencyMixin';\n\nexport default {\n  props: ['orderId'],\n  components: {\n    progressBar,\n  },\n  data() {\n    return {\n      // 進度條\n      progress: {\n        step: 1,\n        percent: '0%',\n      },\n      order: {},\n    };\n  },\n  mounted() {\n    this.getOrder();\n  },\n  methods: {\n    // 根據id取得訂單資料\n    getOrder() {\n      this.isLoading = true;\n      this.axios\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order/${this.orderId}`)\n        .then((res) => {\n          this.order = res.data.order;\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          console.dir(err);\n        });\n    },\n    toPaymentFinish() {\n      this.$router.push(`/front/finish/${this.orderId}`);\n    },\n  },\n  mixins: [convertDate, LoadingPlugin, currency],\n};\n</script>\n<style lang=\"\"></style>\n","import { render } from \"./PaymentComponent.vue?vue&type=template&id=8fdcbc42&lang=true\"\nimport script from \"./PaymentComponent.vue?vue&type=script&lang=js\"\nexport * from \"./PaymentComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/LONGSIAN/Desktop/project_2022/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template lang=\"\">\n  <div class=\"position-relative m-4\">\n    <div class=\"progress\" style=\"height: 1px\">\n      <div class=\"progress-bar\" role=\"progressbar\" :style=\"{ 'width': progress.percent }\" aria-valuenow=\"0\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n    </div>\n    <span class=\"material-symbols-outlined\">\n\n</span>\n\n    <div class=\"position-absolute top-0 start-0 translate-middle\">\n      <span class=\"position-absolute fs-5 text-center text--primary\" style=\"top: -60%; width:3rem\">結帳</span>\n      <span\n        class=\"d-block fs-3 text-center pt-2 rounded-circle material-symbols-outlined\"\n        :class=\"{\n          'bg--primary': progress.step >= 1,\n          'bg--bggray': progress.step < 1,\n          'text--light': progress.step >= 1,\n          'text--scondary': progress.step < 1,\n        }\"\n        style=\"width: 3rem; height: 3rem\">shopping_cart\n      </span>\n    </div>\n    <div class=\"position-absolute top-0 start-50 translate-middle\">\n      <span class=\"position-absolute fs-5 text-center text--primary\" style=\"top: -60%; width:3rem\">付款</span>\n      <span\n        class=\"d-block fs-3 text-center pt-2 rounded-circle material-symbols-outlined\"\n        :class=\"{\n          'bg--primary': progress.step >= 2,\n          'bg--bggray': progress.step < 2,\n          'text--light': progress.step >= 2,\n          'text--scondary': progress.step < 2,\n          }\"\n        style=\"width: 3rem; height: 3rem\">credit_card\n          </span>\n    </div>\n    <div class=\"position-absolute top-0 start-100 translate-middle\">\n      <span class=\"position-absolute fs-5 text-center text--secondary\" style=\"top: -60%; width:3rem\">完成</span>\n      <span\n        class=\"d-block fs-3 text-center pt-2 rounded-circle material-symbols-outlined\"\n        :class=\"{\n          'bg--primary': progress.step >= 3,\n          'bg--bggray': progress.step < 3,\n          'text--light': progress.step >= 3,\n          'text--scondary': progress.step < 3,\n          }\"\n        style=\"width: 3rem; height: 3rem;\">task_alt\n        </span>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['progress'],\n  mounted() {\n    console.log(this.progress.step[0] === 'order');\n  },\n};\n</script>\n<style lang=\"\"></style>\n","import { render } from \"./ProgressBar.vue?vue&type=template&id=ba23b218&lang=true\"\nimport script from \"./ProgressBar.vue?vue&type=script&lang=js\"\nexport * from \"./ProgressBar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/LONGSIAN/Desktop/project_2022/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["data","isLoading","loader","fullPage","color","backgroundColor","opacity","components","Loading","methods","convertDate","unix","date","Date","getFullYear","this","repairZoro","getMonth","getDate","getHours","getMinutes","getSeconds","num","currency","n","parseInt","toFixed","replace","c","i","a","length","class","style","_createElementVNode","_createElementBlock","_createVNode","_component_progress_bar","progress","$data","_component_Loading","active","_ctx","_hoisted_5","_hoisted_8","_toDisplayString","id","_hoisted_10","create_at","user","_Fragment","key","_hoisted_12","name","_hoisted_14","tel","_hoisted_16","address","_hoisted_18","_renderList","products","item","product","title","qty","final_total","_hoisted_28","total","_hoisted_30","is_paid","type","onClick","$options","props","progressBar","step","percent","order","mounted","getOrder","axios","get","orderId","then","res","catch","err","console","dir","toPaymentFinish","$router","push","mixins","LoadingPlugin","__exports__","render","role","$props","_hoisted_3","_hoisted_7","_hoisted_9","log"],"sourceRoot":""}